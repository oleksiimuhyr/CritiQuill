{% extends 'layouts/base_background.html' %}
{% load crispy_forms_filters %}
{% load static %}

{% block title %} All Genres {% endblock title %}
{% block body %} class="blog-author bg-gray-200" {% endblock body %}

{% block header %}
  {% include 'includes/navigation.html' %}
{% endblock header %}

{% block content %}
  <header>
    <div class="page-header min-height-400" style="background-image: url('{% static 'img/360_F_562252610_Watb1rsYXzmDnCDqxA2CFEsS72o8D05E.jpg' %}');" loading="lazy">
      <span class="mask bg-gradient-dark opacity-8"></span>
    </div>
  </header>

  <div class="card card-body blur shadow-blur mx-3 mx-md-4 mt-n6 mb-4">
    <section class="py-3">
      <div class="container">
        <a href="{% url 'review:genre-create' %}" class="btn btn-primary link-to-page float-end">
          Add a new genre
        </a>
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <form action="" method="get" class="form-inline" data-width="auto">
                <input type="text" name="query" class="form-control mb-2 mr-sm-2" placeholder="Search genres by name">
                <button class="btn btn-primary" type="submit">Search üîç</button>
              </form>
            </div>

            <div class="genres-container">
              <h1 class="text-center mb-4">All Genres</h1>
              <ul>
                {% for genre in genres %}
                  <li class="genre-item">
                    <a href="{% url 'review:all-genre-movies' genre.id %}" class="genre-link">{{ genre.name }}</a>
                  </li>
                {% empty %}
                  <li>No genres found</li>
                {% endfor %}
              </ul>
              {% include "includes/pagination.html" %}
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
{% endblock content %}
